{% extends 'base.html' %}
{% block product %}active{% endblock %}
{% block add_product %}active{% endblock %}
{% load static %}
{% block content %}

<div class="content-wrapper" xmlns:>
    <section class="content-header">
        <ol class="breadcrumb">
            <li><a href="{% url 'common:index' %}"><i class="fa fa-dashboard"></i> Home</a></li>
            <!-- <li><a href="{% url 'product:add_category' %}">Product Category</a></li> -->
            <li class="active">Add Karigar Product</li>
        </ol>
    </section>
    <br>
    <section class="content">
        <!-- Info boxes -->
        <div class="row">
            <div class="col-md-6 pull-left">
                <div class="box">
                    <div class="box-header">
                        <h4 class="text-center"><b>update Karigar Product | {{customer.name|title}} {{customer.id}}</b></h4>
                    </div>
                    <div class="box-body">
                        <form action="{% url 'product:karigar_product_update' pk=object.id %}" method="post" enctype="multipart/form-data" autocomplete="off">
                            {% csrf_token %}
                            <div class="row">
                                <input type="hidden" name="karigar" value="{{customer.id}}">
                                {{object.karigar.id}}-----
                                <div class="col-md-12 pull-left form-group">
                                    <label class="form-control-label">Name <span style="color:red">*</span></label>
                                    <input type="text" name="name" class="form-control form-control-alternative" value="{{object.name}}" required>
                                </div>
                                <div class="col-md-12 pull-left form-group">
                                    <label class="form-control-label">Description <span style="color:red">*</span></label>
                                    <input type="text" name="decription" class="form-control form-control-alternative"  value="{{object.decription}}" required>
                                </div>
                                <div class="col-md-12 pull-left form-group">
                                    <label class="form-control-label">Amount <span style="color:red">*</span></label>
                                    <input type="text" name="karigar_amount" class="form-control form-control-alternative" value="{{object.karigar_amount}}" required>
                                </div>
                                <div class="col-md-12 form-group">
                                    <label class="form-control-label">Product Image</label>
                                    <input type="file" name="image" accept="image/*" capture="environment"
                                           class="form-control form-control-alternative" />
                                    <small class="form-text text-muted">You can upload from your computer or use your webcam.</small>
                                </div>
                                <div class="col-md-12 form-group">
                                    <label>Preview:</label><br>
                                    <img id="preview" src="#" alt="Image preview" style="max-width: 200px; display: none;" />
                                </div>
                                <div class="col-md-12 form-group">
                                    <label class="form-control-label">Date <span style="color:red">*</span></label>
                                    <input type="date" name="date" class="form-control form-control-alternative" placeholder="Date" onfocus="(this.type='date')" onblur="(this.type='text')" required>
                                </div>
                                <div class="col-md-12 pull-left form-group">
                                    <label class="form-control-label">Status<span style="color:red">*</span></label>
                                    <select name="ready" class="form-control form-control-alternative" required>
                                        <option value="">Select Status</option>
                                        <option value="complete">complete</option>
                                        <option value="incomplete">incomplete</option>
                                      </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 pull-right form-group">
                                    <label class="form-control-label"></label>
                                    <button type="submit" value="Create" class="btn btn-primary form-control">Save</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<script>
    document.querySelector('input[name="image"]').addEventListener('change', function(e) {
        const preview = document.getElementById('preview');
        const file = e.target.files[0];
        if (file) {
            preview.src = URL.createObjectURL(file);
            preview.style.display = 'block';
        }
    });

    </script>

{% endblock %}
